{"mappings":"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","sources":["./node_modules/@parcel/runtime-js/lib/bundle-manifest.js","./node_modules/@parcel/runtime-js/lib/JSRuntime.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","./node_modules/preact/compat/dist/compat.module.js","./demo/components/file-picker/index.tsx","./demo/components/code-box/prism.js","./esm/browser.js","./demo/components/code-box/stream-adapter.tsx","./demo/components/code-box/sandbox.ts","./node_modules/@parcel/runtime-js/lib/bundle-url.js","./node_modules/@parcel/runtime-js/lib/get-worker-url.js","./node_modules/@parcel/runtime-js/lib/relative-path.js","./demo/components/code-box/index.tsx","./demo/App.tsx","./demo/index.tsx"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _plugin() {\n  const data = require(\"@parcel/plugin\");\n\n  _plugin = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _utils() {\n  const data = require(\"@parcel/utils\");\n\n  _utils = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _nullthrows() {\n  const data = _interopRequireDefault(require(\"nullthrows\"));\n\n  _nullthrows = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// List of browsers that support dynamic import natively\n// https://caniuse.com/#feat=es6-module-dynamic-import\nconst DYNAMIC_IMPORT_BROWSERS = {\n  edge: '76',\n  firefox: '67',\n  chrome: '63',\n  safari: '11.1',\n  opera: '50'\n}; // Used for as=\"\" in preload/prefetch\n\nconst TYPE_TO_RESOURCE_PRIORITY = {\n  css: 'style',\n  js: 'script'\n};\nconst BROWSER_PRELOAD_LOADER = './loaders/browser/preload-loader';\nconst BROWSER_PREFETCH_LOADER = './loaders/browser/prefetch-loader';\nconst LOADERS = {\n  browser: {\n    css: './loaders/browser/css-loader',\n    html: './loaders/browser/html-loader',\n    js: './loaders/browser/js-loader',\n    wasm: './loaders/browser/wasm-loader',\n    IMPORT_POLYFILL: './loaders/browser/import-polyfill'\n  },\n  worker: {\n    js: './loaders/worker/js-loader',\n    wasm: './loaders/worker/wasm-loader',\n    IMPORT_POLYFILL: false\n  },\n  node: {\n    css: './loaders/node/css-loader',\n    html: './loaders/node/html-loader',\n    js: './loaders/node/js-loader',\n    wasm: './loaders/node/wasm-loader',\n    IMPORT_POLYFILL: null\n  }\n};\n\nfunction getLoaders(ctx) {\n  if (ctx.isWorker()) return LOADERS.worker;\n  if (ctx.isBrowser()) return LOADERS.browser;\n  if (ctx.isNode()) return LOADERS.node;\n  return null;\n}\n\nvar _default = new (_plugin().Runtime)({\n  apply({\n    bundle,\n    bundleGraph,\n    options\n  }) {\n    // Dependency ids in code replaced with referenced bundle names\n    // Loader runtime added for bundle groups that don't have a native loader (e.g. HTML/CSS/Worker - isURL?),\n    // and which are not loaded by a parent bundle.\n    // Loaders also added for modules that were moved to a separate bundle because they are a different type\n    // (e.g. WASM, HTML). These should be preloaded prior to the bundle being executed. Replace the entry asset(s)\n    // with the preload module.\n    if (bundle.type !== 'js') {\n      return;\n    }\n\n    let asyncDependencies = [];\n    let otherDependencies = [];\n    bundle.traverse(node => {\n      if (node.type !== 'dependency') {\n        return;\n      }\n\n      let dependency = node.value;\n\n      if (dependency.isAsync && !dependency.isURL) {\n        asyncDependencies.push(dependency);\n      } else {\n        otherDependencies.push(dependency);\n      }\n    });\n    let assets = [];\n\n    for (let dependency of asyncDependencies) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (resolved == null) {\n        continue;\n      }\n\n      if (resolved.type === 'asset') {\n        // If this bundle already has the asset this dependency references,\n        // return a simple runtime of `Promise.resolve(require(\"path/to/asset\"))`.\n        assets.push({\n          filePath: _path().default.join(options.projectRoot, 'JSRuntime.js'),\n          // Using Promise['resolve'] to prevent Parcel from inferring this is an async dependency.\n          // TODO: Find a better way of doing this.\n          code: `module.exports = Promise['resolve'](require(${JSON.stringify('./' + _path().default.relative(options.projectRoot, resolved.value.filePath))}))`,\n          dependency\n        });\n      } else {\n        let loaderRuntime = getLoaderRuntime({\n          bundle,\n          dependency,\n          bundleGraph,\n          bundleGroup: resolved.value\n        });\n\n        if (loaderRuntime != null) {\n          assets.push(loaderRuntime);\n        }\n      }\n    }\n\n    for (let dependency of otherDependencies) {\n      // Resolve the dependency to a bundle. If inline, export the dependency id,\n      // which will be replaced with the contents of that bundle later.\n      let referencedBundle = bundleGraph.getReferencedBundle(dependency, bundle);\n\n      if (referencedBundle === null || referencedBundle === void 0 ? void 0 : referencedBundle.isInline) {\n        assets.push({\n          filePath: _path().default.join(__dirname, `/bundles/${referencedBundle.id}.js`),\n          code: `module.exports = ${JSON.stringify(dependency.id)};`,\n          dependency\n        });\n        continue;\n      } // Otherwise, try to resolve the dependency to an external bundle group\n      // and insert a URL to that bundle.\n\n\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if (dependency.isURL && resolved == null) {\n        // If a URL dependency was not able to be resolved, add a runtime that\n        // exports the original moduleSpecifier.\n        assets.push({\n          filePath: __filename,\n          code: `module.exports = ${JSON.stringify(dependency.moduleSpecifier)}`,\n          dependency\n        });\n        continue;\n      }\n\n      if (resolved == null || resolved.type !== 'bundle_group') {\n        continue;\n      }\n\n      let bundleGroup = resolved.value;\n      let mainBundle = (0, _nullthrows().default)(bundleGraph.getBundlesInBundleGroup(bundleGroup).find(b => {\n        let entries = b.getEntryAssets();\n        return entries.some(e => bundleGroup.entryAssetId === e.id);\n      }));\n\n      if (bundle.env.outputFormat === 'commonjs' && mainBundle.type === 'js') {\n        assets.push({\n          filePath: __filename,\n          dependency,\n          code: `module.exports = require(\"./\" + ${getRelativePathExpr(bundle, mainBundle)})`\n        });\n        continue;\n      } // URL dependency or not, fall back to including a runtime that exports the url\n\n\n      assets.push(getURLRuntime(dependency, bundle, mainBundle));\n    }\n\n    if (shouldUseRuntimeManifest(bundle) && bundleGraph.getChildBundles(bundle).length > 0 && isNewContext(bundle, bundleGraph)) {\n      assets.push({\n        filePath: __filename,\n        code: getRegisterCode(bundle, bundleGraph),\n        isEntry: true\n      });\n    }\n\n    return assets;\n  }\n\n});\n\nexports.default = _default;\n\nfunction getLoaderRuntime({\n  bundle,\n  dependency,\n  bundleGroup,\n  bundleGraph\n}) {\n  let loaders = getLoaders(bundle.env);\n\n  if (loaders == null) {\n    return;\n  } // Sort so the bundles containing the entry asset appear last\n\n\n  let externalBundles = bundleGraph.getBundlesInBundleGroup(bundleGroup).filter(bundle => !bundle.isInline).sort(bundle => bundle.getEntryAssets().map(asset => asset.id).includes(bundleGroup.entryAssetId) ? 1 : -1); // CommonJS is a synchronous module system, so there is no need to load bundles in parallel.\n  // Importing of the other bundles will be handled by the bundle group entry.\n  // Do the same thing in library mode for ES modules, as we are building for another bundler\n  // and the imports for sibling bundles will be in the target bundle.\n\n  if (bundle.env.outputFormat === 'commonjs' || bundle.env.isLibrary) {\n    externalBundles = externalBundles.slice(-1);\n  } // Determine if we need to add a dynamic import() polyfill, or if all target browsers support it natively.\n\n\n  let needsDynamicImportPolyfill = false;\n\n  if (bundle.env.isBrowser() && bundle.env.outputFormat === 'esmodule') {\n    needsDynamicImportPolyfill = !bundle.env.matchesEngines(DYNAMIC_IMPORT_BROWSERS);\n  }\n\n  let loaderModules = externalBundles.map(to => {\n    let loader = loaders[to.type];\n\n    if (!loader) {\n      return;\n    }\n\n    let relativePathExpr = getRelativePathExpr(bundle, to); // Use esmodule loader if possible\n\n    if (to.type === 'js' && to.env.outputFormat === 'esmodule') {\n      if (!needsDynamicImportPolyfill) {\n        return `import(\"./\" + ${relativePathExpr})`;\n      }\n\n      loader = (0, _nullthrows().default)(loaders.IMPORT_POLYFILL, `No import() polyfill available for context '${bundle.env.context}'`);\n    } else if (to.type === 'js' && to.env.outputFormat === 'commonjs') {\n      return `Promise.resolve(require(\"./\" + ${relativePathExpr}))`;\n    }\n\n    return `require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr})`;\n  }).filter(Boolean);\n\n  if (bundle.env.context === 'browser') {\n    loaderModules.push(...(0, _utils().flatMap)( // TODO: Allow css to preload resources as well\n    externalBundles.filter(to => to.type === 'js'), from => {\n      let {\n        preload,\n        prefetch\n      } = getHintedBundleGroups(bundleGraph, from);\n      return [...getHintLoaders(bundleGraph, bundle, preload, BROWSER_PRELOAD_LOADER), ...getHintLoaders(bundleGraph, bundle, prefetch, BROWSER_PREFETCH_LOADER)];\n    }));\n  }\n\n  if (loaderModules.length === 0) {\n    return;\n  }\n\n  let loaderCode = loaderModules.join(', ');\n\n  if (loaderModules.length > 1 && (bundle.env.outputFormat === 'global' || !externalBundles.every(b => b.type === 'js'))) {\n    loaderCode = `Promise.all([${loaderCode}])`;\n\n    if (bundle.env.outputFormat !== 'global') {\n      loaderCode += `.then(r => r[r.length - 1])`;\n    }\n  } else {\n    loaderCode = `(${loaderCode})`;\n  }\n\n  if (bundle.env.outputFormat === 'global') {\n    loaderCode += `.then(() => module.bundle.root('${bundleGraph.getAssetPublicId(bundleGraph.getAssetById(bundleGroup.entryAssetId))}')${// In global output with scope hoisting, functions return exports are\n    // always returned. Otherwise, the exports are returned.\n    bundle.env.scopeHoist ? '()' : ''})`;\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = ${loaderCode};`,\n    dependency\n  };\n}\n\nfunction getHintedBundleGroups(bundleGraph, bundle) {\n  let preload = [];\n  let prefetch = [];\n  bundle.traverse(node => {\n    var _dependency$meta;\n\n    if (node.type !== 'dependency') {\n      return;\n    }\n\n    let dependency = node.value; // $FlowFixMe\n\n    let attributes = (_dependency$meta = dependency.meta) === null || _dependency$meta === void 0 ? void 0 : _dependency$meta.importAttributes;\n\n    if (dependency.isAsync && !dependency.isURL && typeof attributes === 'object' && attributes != null && ( // $FlowFixMe\n    attributes.preload || attributes.prefetch)) {\n      let resolved = bundleGraph.resolveAsyncDependency(dependency, bundle);\n\n      if ((resolved === null || resolved === void 0 ? void 0 : resolved.type) === 'bundle_group') {\n        // === true for flow\n        if (attributes.preload === true) {\n          preload.push(resolved.value);\n        }\n\n        if (attributes.prefetch === true) {\n          prefetch.push(resolved.value);\n        }\n      }\n    }\n  });\n  return {\n    preload,\n    prefetch\n  };\n}\n\nfunction getHintLoaders(bundleGraph, from, bundleGroups, loader) {\n  let hintLoaders = [];\n\n  for (let bundleGroupToPreload of bundleGroups) {\n    let bundlesToPreload = bundleGraph.getBundlesInBundleGroup(bundleGroupToPreload);\n\n    for (let bundleToPreload of bundlesToPreload) {\n      let relativePathExpr = getRelativePathExpr(from, bundleToPreload);\n      let priority = TYPE_TO_RESOURCE_PRIORITY[bundleToPreload.type];\n      hintLoaders.push(`require(${JSON.stringify(loader)})(require('./bundle-url').getBundleURL() + ${relativePathExpr}, ${priority ? JSON.stringify(priority) : 'null'}, ${JSON.stringify(bundleToPreload.target.env.outputFormat === 'esmodule')})`);\n    }\n  }\n\n  return hintLoaders;\n}\n\nfunction isNewContext(bundle, bundleGraph) {\n  let parents = bundleGraph.getParentBundles(bundle);\n  return bundle.isEntry || parents.length === 0 || parents.some(parent => parent.env.context !== bundle.env.context || parent.type !== 'js');\n}\n\nfunction getURLRuntime(dependency, from, to) {\n  let relativePathExpr = getRelativePathExpr(from, to);\n\n  if (dependency.meta.webworker === true) {\n    return {\n      filePath: __filename,\n      code: `module.exports = require('./get-worker-url')(${relativePathExpr});`,\n      dependency\n    };\n  }\n\n  return {\n    filePath: __filename,\n    code: `module.exports = require('./bundle-url').getBundleURL() + ${relativePathExpr}`,\n    dependency\n  };\n}\n\nfunction getRegisterCode(entryBundle, bundleGraph) {\n  let idToName = {};\n  bundleGraph.traverseBundles((bundle, _, actions) => {\n    if (bundle.isInline) {\n      return;\n    }\n\n    idToName[bundle.publicId] = (0, _nullthrows().default)(bundle.name);\n\n    if (bundle !== entryBundle && isNewContext(bundle, bundleGraph)) {\n      // New contexts have their own manifests, so there's no need to continue.\n      actions.skipChildren();\n    }\n  }, entryBundle);\n  return \"require('./bundle-manifest').register(JSON.parse(\" + JSON.stringify(JSON.stringify(idToName)) + '));';\n}\n\nfunction getRelativePathExpr(from, to) {\n  if (shouldUseRuntimeManifest(from)) {\n    return `require('./relative-path')(${JSON.stringify(from.publicId)}, ${JSON.stringify(to.publicId)})`;\n  }\n\n  return JSON.stringify((0, _utils().relativeBundlePath)(from, to, {\n    leadingDotSlash: false\n  }));\n}\n\nfunction shouldUseRuntimeManifest(bundle) {\n  let env = bundle.env;\n  return !env.isLibrary && env.outputFormat === 'global' && env.isBrowser();\n}","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o};return null==o&&(r.__v=r),null!=n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!g.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(g)}function g(){for(var n;g.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=i,t=$(f,o,i,l.__n,void 0!==f.ownerSVGElement,null!=o.__h?[r]:null,u,null==r?_(o):r,o.__h),j(u,o),t!=r&&w(o)))})}function m(n,l,u,i,t,o,r,c,s,h){var y,d,w,k,g,m,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}g=$(n,k,w=w||f,t,o,r,c,s,h),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||g,k)),null!=g?(null==m&&(m=g),s=x(n,k,w,A,r,g,s),h||\"option\"!=u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=m,null!=r&&\"function\"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&L(A[y],A[y]);if(b)for(y=0;y<b.length;y++)I(b[y],b[++y],b[++y])}function b(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){b(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o,r,f;if(t&&\"className\"==l&&(l=\"class\"),\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else\"o\"===l[0]&&\"n\"===l[1]?(o=l!==(l=l.replace(/Capture$/,\"\")),(r=l.toLowerCase())in n&&(l=r),l=l.slice(2),n.l||(n.l={}),n.l[l+o]=u,f=o?N:z,u?i||n.addEventListener(l,f,o):n.removeEventListener(l,f,o)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&\"download\"!==l&&\"href\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type+!1](n.event?n.event(l):l)}function N(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&(\"function\"==typeof t.type&&t.__k.length>1&&T(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),\"function\"==typeof n.type&&(n.__d=l)))}function $(l,u,i,t,o,r,f,e,c){var a,h,v,y,_,w,k,g,b,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(g,x):(u.__c=h=new d(g,x),h.constructor=P,h.render=M),b&&b.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,P.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,h.__h.length&&f.push(h),T(u,e,l);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,w)})}h.context=x,h.props=g,h.state=h.__s,(a=n.__r)&&a(u),h.__d=!1,h.__v=u,h.__P=l,a=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(w=h.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),k&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=H(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),n.__e(l,u,i)}return u.__e}function j(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function H(n,l,u,i,t,o,r,c){var s,a,h,v,y,p=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p===d||c&&n.data===d||(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),h=(p=u.props||f).dangerouslySetInnerHTML,v=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===n.innerHTML)||(n.innerHTML=v&&v.__html||\"\"))}A(n,d,p,t,c),v?l.__k=[]:(s=l.props.children,m(n,Array.isArray(s)?s:[s],l,u,i,\"foreignObject\"!==l.type&&t,o,r,f,c)),c||(\"value\"in d&&void 0!==(s=d.value)&&(s!==n.value||\"progress\"===l.type&&!s)&&C(n,\"value\",s,p.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,\"checked\",s,p.checked,!1))}return n}function I(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&a(o)}function M(n,l,u){return this.constructor(n,u)}function O(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=h(p,null,[l]),c=[],$(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),j(c,l)}function S(n,l){O(n,l,o)}function q(n,l,u){var i,t,o,r=arguments,f=s({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n,u,i){return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t,o=l.__h;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return l.__h=o,u.__E=u}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,o=f,r=0;export{O as render,S as hydrate,h as createElement,h,p as Fragment,y as createRef,l as isValidElement,d as Component,q as cloneElement,B as createContext,b as toChildArray,L as __u,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__r,f=n.diffed,e=n.__c,a=n.unmount;function v(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function m(n){return o=1,p(k,n)}function p(n,r,o){var i=v(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):k(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=v(t++,3);!n.__s&&j(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function l(r,o){var i=v(t++,4);!n.__s&&j(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function h(n){return o=5,_(function(){return{current:n}},[])}function s(n,t,u){o=6,l(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function _(n,u){var r=v(t++,7);return j(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,_(function(){return n},t)}function F(n){var r=u.context[n.__c],o=v(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function d(n){var r=v(t++,10),o=m();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function q(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(b),t.__H.__h.forEach(g),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__r=function(n){c&&c(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(b),r.__h.forEach(g),r.__h=[])},n.diffed=function(t){f&&f(t);var u=t.__c;u&&u.__H&&u.__H.__h.length&&(1!==i.push(u)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),x&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);x&&(t=requestAnimationFrame(u))})(q))},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(b),t.__h=t.__h.filter(function(n){return!n.__||g(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),e&&e(t,u)},n.unmount=function(t){a&&a(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(b)}catch(t){n.__e(t,u.__v)}};var x=\"function\"==typeof requestAnimationFrame;function b(n){\"function\"==typeof n.__c&&n.__c()}function g(n){n.__c=n.__()}function j(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function k(n,t){return\"function\"==typeof t?t(n):t}export{m as useState,p as useReducer,y as useEffect,l as useLayoutEffect,h as useRef,s as useImperativeHandle,_ as useMemo,A as useCallback,F as useContext,T as useDebugValue,d as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as c,useContext as l,useDebugValue as f}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as v,Fragment as p,hydrate as d,render as m,__u as y,cloneElement as b,createRef as _,createContext as E}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function g(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function w(n){this.props=n}function C(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:g(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(w.prototype=new a).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return g(this.props,n)||g(this.state,t)};var R=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),R&&R(n)};var x=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t,e){var r=S({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=x,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:v(v(n).map(t))},N={map:A,forEach:A,count:function(n){return n?v(n).length:0},only:function(n){var t=v(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:v},O=h.__e;function L(n){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),(n=S({},n)).__c=null,n.__k=n.__k&&n.__k.map(L)),n}function U(n){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(U)),n}function F(){this.__u=0,this.t=null,this.__b=null}function M(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function D(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function I(){this.u=null,this.o=null}h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t.__c);O(n,t,e)},(F.prototype=new a).__c=function(n,t){var e=this;null==e.t&&(e.t=[]),e.t.push(t);var r=M(e.__v),u=!1,o=function(){u||(u=!0,t.componentWillUnmount=t.__c,r?r(i):i())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var i=function(){var n;if(!--e.__u)for(e.__v.__k[0]=U(e.state.__e),e.setState({__e:e.__b=null});n=e.t.pop();)n.forceUpdate()},c=e.__v;c&&!0===c.__h||e.__u++||e.setState({__e:e.__b=e.__v.__k[0]}),n.then(o,o)},F.prototype.componentWillUnmount=function(){this.t=[]},F.prototype.render=function(n,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=L(this.__b)),this.__b=null);var e=t.__e&&s(p,null,n.fallback);return e&&(e.__h=null),[s(p,null,t.__e?null:n.children),e]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function W(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var t=this,e=n.i,r=s(W,{context:t.context},n.__v);t.componentWillUnmount=function(){var n=t.l.parentNode;n&&n.removeChild(t.l),y(t.s)},t.i&&t.i!==e&&(t.componentWillUnmount(),t.h=!1),n.__v?t.h?(e.__k=t.__k,m(r,e),t.__k=e.__k):(t.l=document.createTextNode(\"\"),t.__k=e.__k,d(\"\",e),e.appendChild(t.l),t.h=!0,t.i=e,m(r,e,t.l),e.__k=t.__k,t.__k=t.l.__k):t.h&&t.componentWillUnmount(),t.s=r}function P(n,t){return s(j,{__v:n,i:t})}(I.prototype=new a).__e=function(n){var t=this,e=M(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},I.prototype.render=function(n){this.u=null,this.o=new Map;var t=v(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},I.prototype.componentDidUpdate=I.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,B=\"undefined\"!=typeof Symbol?/fil|che|rad/i:/fil|che|ra/i;function H(n,t,e){return null==t.__k&&(t.textContent=\"\"),m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function Z(n,t,e){return d(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var Y=h.event;function $(){}function q(){return this.cancelBubble}function G(){return this.defaultPrevented}h.event=function(n){return Y&&(n=Y(n)),n.persist=$,n.isPropagationStopped=q,n.isDefaultPrevented=G,n.nativeEvent=n};var J,K={configurable:!0,get:function(){return this.class}},Q=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!B.test(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():V.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=v(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),n.props=r}t&&e.class!=e.className&&(K.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",K)),n.$$typeof=z,Q&&Q(n)};var X=h.__r;h.__r=function(n){X&&X(n),J=n.__c};var nn={ReactCurrentDispatcher:{current:{readContext:function(n){return J.__n[n.__c].props.value}}}},tn=\"16.8.0\";function en(n){return s.bind(null,n)}function rn(n){return!!n&&n.$$typeof===z}function un(n){return rn(n)?b.apply(null,arguments):n}function on(n){return!!n.__k&&(m(null,n),!0)}function cn(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},fn=p;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:c,useContext:l,useDebugValue:f,version:\"16.8.0\",Children:N,render:H,hydrate:Z,unmountComponentAtNode:on,createPortal:P,createElement:s,createContext:E,createFactory:en,cloneElement:un,createRef:_,Fragment:p,isValidElement:rn,findDOMNode:cn,Component:a,PureComponent:w,memo:C,forwardRef:k,unstable_batchedUpdates:ln,StrictMode:p,Suspense:F,SuspenseList:I,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nn};export{tn as version,N as Children,H as render,Z as hydrate,on as unmountComponentAtNode,P as createPortal,en as createFactory,un as cloneElement,rn as isValidElement,cn as findDOMNode,w as PureComponent,C as memo,k as forwardRef,ln as unstable_batchedUpdates,fn as StrictMode,F as Suspense,I as SuspenseList,D as lazy,nn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import React, { CSSProperties, FC, HTMLAttributes, InputHTMLAttributes, useEffect, useRef, useState } from 'react';\n\nconst supportsInputDirs = 'webkitdirectory' in HTMLInputElement.prototype;\nconst supportsRelativePath = 'webkitRelativePath' in File.prototype;\nconst supportsDirs = typeof DataTransferItem != 'undefined' && 'webkitGetAsEntry' in DataTransferItem.prototype;\n\nconst readRecurse = (dir: FileSystemDirectoryEntry, onComplete: (files: File[]) => void, onError: (err: Error) => void) => {\n  let files: File[] = [];\n  let total = 0;\n  let errored = false;\n  let reachedEnd = false;\n  const onErr = (err: Error) => {\n    if (!errored) {\n      errored = true;\n      onError(err);\n    }\n  };\n  const onDone = (f: File[]) => {\n    files = files.concat(f);\n    if (!--total && reachedEnd) onComplete(files);\n  };\n  const reader = dir.createReader();\n  const onRead = (entries: FileSystemEntry[]) => {\n    if (!entries.length && !errored) {\n      if (!total) onComplete(files);\n      else reachedEnd = true;\n    } else reader.readEntries(onRead, onError);\n    for (const entry of entries) {\n      ++total;\n      if (entry.isFile) entry.file(f => onDone([\n        new File([f], entry.fullPath.slice(1), f)\n      ]), onErr);\n      else readRecurse(entry as FileSystemDirectoryEntry, onDone, onErr);\n    }\n  };\n  reader.readEntries(onRead, onError);\n}\n\nconst FilePicker: FC<{\n  onFiles(files: File[] | null): void;\n  onDrag(on: boolean): void;\n  onError(err: string | Error): void;\n  allowDirs: boolean;\n} & Omit<HTMLAttributes<HTMLDivElement>, 'onError'>\n> = ({ onFiles, onDrag, onError, style, allowDirs, children, ...props }) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dirInputRef = useRef<HTMLInputElement>(null);\n  const dragRef = useRef(0);\n  const [inputHover, setInputHover] = useState(false);\n  const [dirInputHover, setDirInputHover] = useState(false);\n  const [isHovering, setIsHovering] = useState(false);\n  useEffect(() => {\n    // only init'd when support dirs\n    if (dirInputRef.current) {\n      dirInputRef.current.setAttribute('webkitdirectory', '');\n    }\n  }, []);\n  const rootProps: HTMLAttributes<HTMLDivElement> = {\n    onDrop(ev) {\n      ev.preventDefault();\n      const tf = ev.dataTransfer;\n      if (!tf.files.length) onError('Please drop some files in');\n      else {\n        onFiles(null);\n        if (supportsDirs && allowDirs) {\n          let outFiles: File[] = [];\n          let lft = tf.items.length;\n          let errored = false;\n          const onErr = (err: Error) => {\n            if (!errored) {\n              errored = true;\n              onError(err);\n            }\n          }\n          const onDone = (f: File[]) => {\n            outFiles = outFiles.concat(f);\n            if (!--lft && !errored) onFiles(outFiles);\n          };\n          for (let i = 0; i < tf.items.length; ++i) {\n            const entry = tf.items[i].webkitGetAsEntry();\n            if (entry.isFile) entry.file(f => onDone([f]), onErr);\n            else readRecurse(entry as FileSystemDirectoryEntry, onDone, onErr);\n          }\n        } else onFiles(Array.prototype.slice.call(tf.files));\n      }\n      setIsHovering(false);\n    },\n    onDragEnter() {\n      ++dragRef.current;\n      onDrag(true);\n      setIsHovering(true);\n    },\n    onDragOver(ev) {\n      ev.preventDefault();\n    },\n    onDragLeave() {\n      if (!--dragRef.current) {\n        onDrag(false);  \n        setIsHovering(false);\n      }\n    },\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      ...style\n    }\n  };\n  const inputProps: InputHTMLAttributes<HTMLInputElement> = {\n    onInput(ev) {\n      const t = ev.currentTarget, files = t.files!;\n      if (supportsRelativePath) {\n        const outFiles: File[] = Array(files.length);\n        for (let i = 0; i < files.length; ++i) {\n          const file = files[i];\n          outFiles[i] = new File([file], file.webkitRelativePath || file.name, file);\n        }\n        onFiles(outFiles);\n      } else onFiles(Array.prototype.slice.call(files));\n      t.value = '';\n    },\n    style: { display: 'none' },\n    multiple: true\n  };\n  const buttonStyles: CSSProperties = {\n    cursor: 'default',\n    minWidth: '8vw',\n    height: '6vh',\n    margin: '1vmin',\n    padding: '1vmin',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    boxShadow: '0 1px 2px 1px rgba(0, 0, 0, 0.2), 0 2px 4px 2px rgba(0, 0, 0, 0.15), 0 4px 8px 4px rgba(0, 0, 0, 0.12)',\n    border: '1px solid black',\n    borderRadius: '6px',\n    transition: 'background-color 300ms ease-in-out',\n    WebkitTouchCallout: 'none',\n    WebkitUserSelect: 'none',\n    msUserSelect: 'none',\n    MozUserSelect: 'none',\n    userSelect: 'none'\n  };\n  return (\n    <div {...props} {...rootProps}>\n      {children}\n      <div style={{\n        transition: 'transform ' + (isHovering ? 300 : 50) + 'ms ease-in-out',\n        transform: isHovering ? 'scale(1.5)' : 'none'\n      }}>Drag and Drop</div>\n      <div style={{\n        borderBottom: '1px solid gray',\n        margin: '1.5vh',\n        color: 'gray',\n        lineHeight: 0,\n        paddingTop: '1.5vh',\n        marginBottom: '3vh',\n        width: '100%',\n      }}>\n        <span style={{ background: 'white', padding: '0.25em' }}>OR</span>\n      </div>\n      <div style={{\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100%'\n      }}>\n        <input type=\"file\" ref={inputRef} {...inputProps} />\n        <div onClick={() => inputRef.current!.click()} onMouseOver={() => setInputHover(true)} onMouseOut={() => setInputHover(false)} style={{\n          ...buttonStyles,\n          backgroundColor: inputHover ? 'rgba(0, 0, 0, 0.14)' : 'white'\n        }}>Select Files</div>\n        {supportsInputDirs && allowDirs &&\n          <>\n            <div style={{ boxShadow: '1px 0 black', height: '100%' }}><span /></div>\n            <input type=\"file\" ref={dirInputRef} {...inputProps} />\n            <div onClick={() => dirInputRef.current!.click()} onMouseOver={() => setDirInputHover(true)} onMouseOut={() => setDirInputHover(false)} style={{\n              ...buttonStyles,\n              marginLeft: '8vmin',\n              backgroundColor: dirInputHover ? 'rgba(0, 0, 0, 0.14)' : 'white'\n            }}>Select Folders</div>\n          </>\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default FilePicker;","/* PrismJS 1.22.0\nhttps://prismjs.com/download.html#themes=prism-tomorrow&languages=clike+javascript */\nvar Prism = (function (u) {\n  var c = /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    n = 0,\n    M = {\n      manual: u.Prism && u.Prism.manual,\n      disableWorkerMessageHandler:\n        u.Prism && u.Prism.disableWorkerMessageHandler,\n      util: {\n        encode: function e(n) {\n          return n instanceof W\n            ? new W(n.type, e(n.content), n.alias)\n            : Array.isArray(n)\n            ? n.map(e)\n            : n\n                .replace(/&/g, \"&amp;\")\n                .replace(/</g, \"&lt;\")\n                .replace(/\\u00a0/g, \" \");\n        },\n        type: function (e) {\n          return Object.prototype.toString.call(e).slice(8, -1);\n        },\n        objId: function (e) {\n          return (\n            e.__id || Object.defineProperty(e, \"__id\", { value: ++n }), e.__id\n          );\n        },\n        clone: function t(e, r) {\n          var a, n;\n          switch (((r = r || {}), M.util.type(e))) {\n            case \"Object\":\n              if (((n = M.util.objId(e)), r[n])) return r[n];\n              for (var i in ((a = {}), (r[n] = a), e))\n                e.hasOwnProperty(i) && (a[i] = t(e[i], r));\n              return a;\n            case \"Array\":\n              return (\n                (n = M.util.objId(e)),\n                r[n]\n                  ? r[n]\n                  : ((a = []),\n                    (r[n] = a),\n                    e.forEach(function (e, n) {\n                      a[n] = t(e, r);\n                    }),\n                    a)\n              );\n            default:\n              return e;\n          }\n        },\n        getLanguage: function (e) {\n          for (; e && !c.test(e.className); ) e = e.parentElement;\n          return e\n            ? (e.className.match(c) || [, \"none\"])[1].toLowerCase()\n            : \"none\";\n        },\n        currentScript: function () {\n          if (\"undefined\" == typeof document) return null;\n          if (\"currentScript\" in document) return document.currentScript;\n          try {\n            throw new Error();\n          } catch (e) {\n            var n = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(e.stack) || [])[1];\n            if (n) {\n              var t = document.getElementsByTagName(\"script\");\n              for (var r in t) if (t[r].src == n) return t[r];\n            }\n            return null;\n          }\n        },\n        isActive: function (e, n, t) {\n          for (var r = \"no-\" + n; e; ) {\n            var a = e.classList;\n            if (a.contains(n)) return !0;\n            if (a.contains(r)) return !1;\n            e = e.parentElement;\n          }\n          return !!t;\n        },\n      },\n      languages: {\n        extend: function (e, n) {\n          var t = M.util.clone(M.languages[e]);\n          for (var r in n) t[r] = n[r];\n          return t;\n        },\n        insertBefore: function (t, e, n, r) {\n          var a = (r = r || M.languages)[t],\n            i = {};\n          for (var l in a)\n            if (a.hasOwnProperty(l)) {\n              if (l == e) for (var o in n) n.hasOwnProperty(o) && (i[o] = n[o]);\n              n.hasOwnProperty(l) || (i[l] = a[l]);\n            }\n          var s = r[t];\n          return (\n            (r[t] = i),\n            M.languages.DFS(M.languages, function (e, n) {\n              n === s && e != t && (this[e] = i);\n            }),\n            i\n          );\n        },\n        DFS: function e(n, t, r, a) {\n          a = a || {};\n          var i = M.util.objId;\n          for (var l in n)\n            if (n.hasOwnProperty(l)) {\n              t.call(n, l, n[l], r || l);\n              var o = n[l],\n                s = M.util.type(o);\n              \"Object\" !== s || a[i(o)]\n                ? \"Array\" !== s || a[i(o)] || ((a[i(o)] = !0), e(o, t, l, a))\n                : ((a[i(o)] = !0), e(o, t, null, a));\n            }\n        },\n      },\n      plugins: {},\n      highlightAll: function (e, n) {\n        M.highlightAllUnder(document, e, n);\n      },\n      highlightAllUnder: function (e, n, t) {\n        var r = {\n          callback: t,\n          container: e,\n          selector:\n            'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code',\n        };\n        M.hooks.run(\"before-highlightall\", r),\n          (r.elements = Array.prototype.slice.apply(\n            r.container.querySelectorAll(r.selector)\n          )),\n          M.hooks.run(\"before-all-elements-highlight\", r);\n        for (var a, i = 0; (a = r.elements[i++]); )\n          M.highlightElement(a, !0 === n, r.callback);\n      },\n      highlightElement: function (e, n, t) {\n        var r = M.util.getLanguage(e),\n          a = M.languages[r];\n        e.className =\n          e.className.replace(c, \"\").replace(/\\s+/g, \" \") + \" language-\" + r;\n        var i = e.parentElement;\n        i &&\n          \"pre\" === i.nodeName.toLowerCase() &&\n          (i.className =\n            i.className.replace(c, \"\").replace(/\\s+/g, \" \") + \" language-\" + r);\n        var l = { element: e, language: r, grammar: a, code: e.textContent };\n        function o(e) {\n          (l.highlightedCode = e),\n            M.hooks.run(\"before-insert\", l),\n            (l.element.innerHTML = l.highlightedCode),\n            M.hooks.run(\"after-highlight\", l),\n            M.hooks.run(\"complete\", l),\n            t && t.call(l.element);\n        }\n        if ((M.hooks.run(\"before-sanity-check\", l), !l.code))\n          return M.hooks.run(\"complete\", l), void (t && t.call(l.element));\n        if ((M.hooks.run(\"before-highlight\", l), l.grammar))\n          if (n && u.Worker) {\n            var s = new Worker(M.filename);\n            (s.onmessage = function (e) {\n              o(e.data);\n            }),\n              s.postMessage(\n                JSON.stringify({\n                  language: l.language,\n                  code: l.code,\n                  immediateClose: !0,\n                })\n              );\n          } else o(M.highlight(l.code, l.grammar, l.language));\n        else o(M.util.encode(l.code));\n      },\n      highlight: function (e, n, t) {\n        var r = { code: e, grammar: n, language: t };\n        return (\n          M.hooks.run(\"before-tokenize\", r),\n          (r.tokens = M.tokenize(r.code, r.grammar)),\n          M.hooks.run(\"after-tokenize\", r),\n          W.stringify(M.util.encode(r.tokens), r.language)\n        );\n      },\n      tokenize: function (e, n) {\n        var t = n.rest;\n        if (t) {\n          for (var r in t) n[r] = t[r];\n          delete n.rest;\n        }\n        var a = new i();\n        return (\n          I(a, a.head, e),\n          (function e(n, t, r, a, i, l) {\n            for (var o in r)\n              if (r.hasOwnProperty(o) && r[o]) {\n                var s = r[o];\n                s = Array.isArray(s) ? s : [s];\n                for (var u = 0; u < s.length; ++u) {\n                  if (l && l.cause == o + \",\" + u) return;\n                  var c = s[u],\n                    g = c.inside,\n                    f = !!c.lookbehind,\n                    h = !!c.greedy,\n                    d = 0,\n                    v = c.alias;\n                  if (h && !c.pattern.global) {\n                    var p = c.pattern.toString().match(/[imsuy]*$/)[0];\n                    c.pattern = RegExp(c.pattern.source, p + \"g\");\n                  }\n                  for (\n                    var m = c.pattern || c, y = a.next, k = i;\n                    y !== t.tail && !(l && k >= l.reach);\n                    k += y.value.length, y = y.next\n                  ) {\n                    var b = y.value;\n                    if (t.length > n.length) return;\n                    if (!(b instanceof W)) {\n                      var x = 1;\n                      if (h && y != t.tail.prev) {\n                        m.lastIndex = k;\n                        var w = m.exec(n);\n                        if (!w) break;\n                        var A = w.index + (f && w[1] ? w[1].length : 0),\n                          P = w.index + w[0].length,\n                          S = k;\n                        for (S += y.value.length; S <= A; )\n                          (y = y.next), (S += y.value.length);\n                        if (\n                          ((S -= y.value.length), (k = S), y.value instanceof W)\n                        )\n                          continue;\n                        for (\n                          var E = y;\n                          E !== t.tail && (S < P || \"string\" == typeof E.value);\n                          E = E.next\n                        )\n                          x++, (S += E.value.length);\n                        x--, (b = n.slice(k, S)), (w.index -= k);\n                      } else {\n                        m.lastIndex = 0;\n                        var w = m.exec(b);\n                      }\n                      if (w) {\n                        f && (d = w[1] ? w[1].length : 0);\n                        var A = w.index + d,\n                          O = w[0].slice(d),\n                          P = A + O.length,\n                          L = b.slice(0, A),\n                          N = b.slice(P),\n                          j = k + b.length;\n                        l && j > l.reach && (l.reach = j);\n                        var C = y.prev;\n                        L && ((C = I(t, C, L)), (k += L.length)), z(t, C, x);\n                        var _ = new W(o, g ? M.tokenize(O, g) : O, v, O);\n                        (y = I(t, C, _)),\n                          N && I(t, y, N),\n                          1 < x &&\n                            e(n, t, r, y.prev, k, {\n                              cause: o + \",\" + u,\n                              reach: j,\n                            });\n                      }\n                    }\n                  }\n                }\n              }\n          })(e, a, n, a.head, 0),\n          (function (e) {\n            var n = [],\n              t = e.head.next;\n            for (; t !== e.tail; ) n.push(t.value), (t = t.next);\n            return n;\n          })(a)\n        );\n      },\n      hooks: {\n        all: {},\n        add: function (e, n) {\n          var t = M.hooks.all;\n          (t[e] = t[e] || []), t[e].push(n);\n        },\n        run: function (e, n) {\n          var t = M.hooks.all[e];\n          if (t && t.length) for (var r, a = 0; (r = t[a++]); ) r(n);\n        },\n      },\n      Token: W,\n    };\n  function W(e, n, t, r) {\n    (this.type = e),\n      (this.content = n),\n      (this.alias = t),\n      (this.length = 0 | (r || \"\").length);\n  }\n  function i() {\n    var e = { value: null, prev: null, next: null },\n      n = { value: null, prev: e, next: null };\n    (e.next = n), (this.head = e), (this.tail = n), (this.length = 0);\n  }\n  function I(e, n, t) {\n    var r = n.next,\n      a = { value: t, prev: n, next: r };\n    return (n.next = a), (r.prev = a), e.length++, a;\n  }\n  function z(e, n, t) {\n    for (var r = n.next, a = 0; a < t && r !== e.tail; a++) r = r.next;\n    ((n.next = r).prev = n), (e.length -= a);\n  }\n  if (\n    ((u.Prism = M),\n    (W.stringify = function n(e, t) {\n      if (\"string\" == typeof e) return e;\n      if (Array.isArray(e)) {\n        var r = \"\";\n        return (\n          e.forEach(function (e) {\n            r += n(e, t);\n          }),\n          r\n        );\n      }\n      var a = {\n          type: e.type,\n          content: n(e.content, t),\n          tag: \"span\",\n          classes: [\"token\", e.type],\n          attributes: {},\n          language: t,\n        },\n        i = e.alias;\n      i &&\n        (Array.isArray(i)\n          ? Array.prototype.push.apply(a.classes, i)\n          : a.classes.push(i)),\n        M.hooks.run(\"wrap\", a);\n      var l = \"\";\n      for (var o in a.attributes)\n        l +=\n          \" \" +\n          o +\n          '=\"' +\n          (a.attributes[o] || \"\").replace(/\"/g, \"&quot;\") +\n          '\"';\n      return (\n        \"<\" +\n        a.tag +\n        ' class=\"' +\n        a.classes.join(\" \") +\n        '\"' +\n        l +\n        \">\" +\n        a.content +\n        \"</\" +\n        a.tag +\n        \">\"\n      );\n    }),\n    !u.document)\n  )\n    return (\n      u.addEventListener &&\n        (M.disableWorkerMessageHandler ||\n          u.addEventListener(\n            \"message\",\n            function (e) {\n              var n = JSON.parse(e.data),\n                t = n.language,\n                r = n.code,\n                a = n.immediateClose;\n              u.postMessage(M.highlight(r, M.languages[t], t)), a && u.close();\n            },\n            !1\n          )),\n      M\n    );\n  var e = M.util.currentScript();\n  function t() {\n    M.manual || M.highlightAll();\n  }\n  if (\n    (e &&\n      ((M.filename = e.src), e.hasAttribute(\"data-manual\") && (M.manual = !0)),\n    !M.manual)\n  ) {\n    var r = document.readyState;\n    \"loading\" === r || (\"interactive\" === r && e && e.defer)\n      ? document.addEventListener(\"DOMContentLoaded\", t)\n      : window.requestAnimationFrame\n      ? window.requestAnimationFrame(t)\n      : window.setTimeout(t, 16);\n  }\n  return M;\n})(module.exports);\nPrism.languages.clike = {\n  comment: [\n    { pattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/, lookbehind: !0 },\n    { pattern: /(^|[^\\\\:])\\/\\/.*/, lookbehind: !0, greedy: !0 },\n  ],\n  string: {\n    pattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n    greedy: !0,\n  },\n  \"class-name\": {\n    pattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n    lookbehind: !0,\n    inside: { punctuation: /[.\\\\]/ },\n  },\n  keyword: /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n  boolean: /\\b(?:true|false)\\b/,\n  function: /\\w+(?=\\()/,\n  number: /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n  operator: /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n  punctuation: /[{}[\\];(),.:]/,\n};\n(Prism.languages.javascript = Prism.languages.extend(\"clike\", {\n  \"class-name\": [\n    Prism.languages.clike[\"class-name\"],\n    {\n      pattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n      lookbehind: !0,\n    },\n  ],\n  keyword: [\n    { pattern: /((?:^|})\\s*)(?:catch|finally)\\b/, lookbehind: !0 },\n    {\n      pattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\\s*[\\[$\\w\\xA0-\\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n      lookbehind: !0,\n    },\n  ],\n  number: /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n  function: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n  operator: /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/,\n})),\n  (Prism.languages.javascript[\n    \"class-name\"\n  ][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/),\n  Prism.languages.insertBefore(\"javascript\", \"keyword\", {\n    regex: {\n      pattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n      lookbehind: !0,\n      greedy: !0,\n      inside: {\n        \"regex-source\": {\n          pattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n          lookbehind: !0,\n          alias: \"language-regex\",\n          inside: Prism.languages.regex,\n        },\n        \"regex-flags\": /[a-z]+$/,\n        \"regex-delimiter\": /^\\/|\\/$/,\n      },\n    },\n    \"function-variable\": {\n      pattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n      alias: \"function\",\n    },\n    parameter: [\n      {\n        pattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n        lookbehind: !0,\n        inside: Prism.languages.javascript,\n      },\n      {\n        pattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n        inside: Prism.languages.javascript,\n      },\n      {\n        pattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n        lookbehind: !0,\n        inside: Prism.languages.javascript,\n      },\n      {\n        pattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n        lookbehind: !0,\n        inside: Prism.languages.javascript,\n      },\n    ],\n    constant: /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/,\n  }),\n  Prism.languages.insertBefore(\"javascript\", \"string\", {\n    \"template-string\": {\n      pattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n      greedy: !0,\n      inside: {\n        \"template-punctuation\": { pattern: /^`|`$/, alias: \"string\" },\n        interpolation: {\n          pattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n          lookbehind: !0,\n          inside: {\n            \"interpolation-punctuation\": {\n              pattern: /^\\${|}$/,\n              alias: \"punctuation\",\n            },\n            rest: Prism.languages.javascript,\n          },\n        },\n        string: /[\\s\\S]+/,\n      },\n    },\n  }),\n  Prism.languages.markup &&\n    Prism.languages.markup.tag.addInlined(\"script\", \"javascript\"),\n  (Prism.languages.js = Prism.languages.javascript);\nmodule.exports.Prism = Prism;","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'\n    ], { type: 'text/javascript' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err['code'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new i32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return { b: b, r: r };\n};\nvar _a = freb(fleb, 2), fl = _a.b, revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b.b, revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >> 8) | ((x & 0x00FF) << 8)) >> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 1; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new u8(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    'unexpected EOF',\n    'invalid block type',\n    'invalid length/literal',\n    'invalid distance',\n    'stream finished',\n    'no stream handler',\n    ,\n    'no callback',\n    'invalid UTF-8 data',\n    'extra field too long',\n    'date not in range 1980-2099',\n    'filename too long',\n    'stream finishing',\n    'invalid zip data'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n    // source length       dict length\n    var sl = dat.length, dl = dict ? dict.length : 0;\n    if (!sl || st.f && !st.l)\n        return buf || new u8(0);\n    // have to estimate size\n    var noBuf = !buf || st.i != 2;\n    // no state\n    var noSt = st.i;\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                if (bt < dt) {\n                    var shift = dl - dt, dend = Math.min(dt, end);\n                    if (shift + bt < 0)\n                        err(3);\n                    for (; bt < dend; ++bt)\n                        buf[bt] = dict[shift + bt];\n                }\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n    d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return { t: et, l: 0 };\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return { t: v, l: 1 };\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return { t: new u8(tr), l: mbt };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return { c: cl.subarray(0, cli), n: s };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a.t, mlb = _a.l;\n    var _b = hTree(df, 15), ddt = _b.t, mdb = _b.l;\n    var _c = lc(dlt), lclt = _c.c, nlc = _c.n;\n    var _d = lc(ddt), lcdt = _d.c, ndc = _d.n;\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        ++lcfreq[lclt[i] & 31];\n    for (var i = 0; i < lcdt.length; ++i)\n        ++lcfreq[lcdt[i] & 31];\n    var _e = hTree(lcfreq, 7), lct = _e.t, mlcb = _e.l;\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n    if (bs >= 0 && flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >> 5) & 127), p += clct[i] >> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        var sym = syms[i];\n        if (sym > 255) {\n            var len = (sym >> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (sym >> 23) & 31), p += fleb[len];\n            var dst = sym & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (sym >> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[sym]), p += ll[sym];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n    var s = st.z || dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var lst = st.l;\n    var pos = (st.r || 0) & 7;\n    if (lvl) {\n        if (pos)\n            w[0] = st.r >> 3;\n        var opt = deo[lvl - 1];\n        var n = opt >> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = st.p || new u16(32768), head = st.h || new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new i32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n        var lc_1 = 0, eb = 0, i = st.i || 0, li = 0, wi = st.w || 0, bs = 0;\n        for (; i + 2 < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = i - dif + j & 32767;\n                                    var pti = prev[ti];\n                                    var cd = ti - pti & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += imod - pimod & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one int32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        for (i = Math.max(i, wi); i < s; ++i) {\n            syms[li++] = dat[i];\n            ++lf[dat[i]];\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        if (!lst) {\n            st.r = (pos & 7) | w[(pos / 8) | 0] << 3;\n            // shft(pos) now 1 less if pos & 7 != 0\n            pos -= 7;\n            st.h = head, st.p = prev, st.i = i, st.w = wi;\n        }\n    }\n    else {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[(pos / 8) | 0] = lst;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Adler32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | (b >> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    if (!st) {\n        st = { l: 1 };\n        if (opt.dictionary) {\n            var dict = opt.dictionary.subarray(-32768);\n            var newDat = new u8(dict.length + dat.length);\n            newDat.set(dict);\n            newDat.set(dat, dict.length);\n            dat = newDat;\n            st.w = dict.length;\n        }\n    }\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            fnStr = wcln(fns[i], fnStr, td_1);\n        ch[id] = { c: wcln(fns[m], fnStr, td_1), e: td_1 };\n    }\n    var td = mrg({}, ch[id].e);\n    return wk(ch[id].c + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt]; };\nvar bDflt = function () { return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zls]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get opts\nvar gopt = function (o) { return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n}; };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) { return strm.push(ev.data[0], ev.data[1]); };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, ext) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else if (!Array.isArray(dat))\n            ext(dat);\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.push = function (d, f) {\n        if (typeof strm.ondata != 'function')\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, 'invalid gzip data');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += (d[10] | d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + (o.filename ? o.filename.length + 1 : 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (o.dictionary && 32);\n    c[1] |= 31 - ((c[0] << 8) | c[1]) % 31;\n    if (o.dictionary) {\n        var h = adler();\n        h.p(o.dictionary);\n        wbytes(c, 2, h.d());\n    }\n};\n// zlib start\nvar zls = function (d, dict) {\n    if ((d[0] & 15) != 8 || (d[0] >> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, 'invalid zlib data');\n    if ((d[1] >> 5 & 1) == +!dict)\n        err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n    return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n    if (typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n        this.s = { l: 0, i: 32768, w: 32768, z: 32768 };\n        // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n        // 98304 = 32768 (lookback) + 65536 (common chunk size)\n        this.b = new u8(98304);\n        if (this.o.dictionary) {\n            var dict = this.o.dictionary.subarray(-32768);\n            this.b.set(dict, 32768 - dict.length);\n            this.s.i = 32768 - dict.length;\n        }\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (typeof this.ondata != 'function')\n            err(5);\n        if (this.s.l)\n            err(4);\n        var endLen = chunk.length + this.s.z;\n        if (endLen > this.b.length) {\n            if (endLen > 2 * this.b.length - 32768) {\n                var newBuf = new u8(endLen & -32768);\n                newBuf.set(this.b.subarray(0, this.s.z));\n                this.b = newBuf;\n            }\n            var split = this.b.length - this.s.z;\n            if (split) {\n                this.b.set(chunk.subarray(0, split), this.s.z);\n                this.s.z = this.b.length;\n                this.p(this.b, false);\n            }\n            this.b.set(this.b.subarray(-32768));\n            this.b.set(chunk.subarray(split), 32768);\n            this.s.z = chunk.length - split + 32768;\n            this.s.i = 32766, this.s.w = 32768;\n        }\n        else {\n            this.b.set(chunk, this.s.z);\n            this.s.z += chunk.length;\n        }\n        this.s.l = final & 1;\n        if (this.s.z > this.s.w + 8191 || final) {\n            this.p(this.b, final || false);\n            this.s.w = this.s.i, this.s.i -= 2;\n        }\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    function Inflate(opts, cb) {\n        // no StrmOpt here to avoid adding to workerizer\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n        this.s = { i: 0, b: dict ? dict.length : 0 };\n        this.o = new u8(32768);\n        this.p = new u8(0);\n        if (dict)\n            this.o.set(dict);\n    }\n    Inflate.prototype.e = function (c) {\n        if (typeof this.ondata != 'function')\n            err(5);\n        if (this.d)\n            err(4);\n        if (!this.p.length)\n            this.p = c;\n        else if (c.length) {\n            var n = new u8(this.p.length + c.length);\n            n.set(this.p), n.set(c, this.p.length), this.p = n;\n        }\n    };\n    Inflate.prototype.c = function (final) {\n        this.s.i = +(this.d = final || false);\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.s, this.o);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    function AsyncInflate(opts, cb) {\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function () {\n            var strm = new Inflate();\n            onmessage = astrm(strm);\n        }, 7);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gopt(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, opts) {\n    return inflt(data, { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        this.l += chunk.length;\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    function Gunzip(opts, cb) {\n        this.v = 1;\n        this.r = 0;\n        Inflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        this.r += chunk.length;\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            var p = this.p.subarray(this.v - 1);\n            var s = p.length > 3 ? gzs(p) : 4;\n            if (s < p.length) {\n                if (this.v > 1 && this.onmember) {\n                    this.onmember(this.r - this.p.length + this.v - 1);\n                }\n            }\n            else if (!final)\n                return;\n            this.p = p.subarray(s), this.v = 0;\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n        // process concatenated GZIP\n        if (this.s.f && !this.s.l) {\n            this.s = { i: 0 };\n            this.v = shft(this.s.p) + 9;\n            this.o = new u8(0);\n            if (this.p.length)\n                this.push(new u8(0), final);\n        }\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    function AsyncGunzip(opts, cb) {\n        var _this_1 = this;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function () {\n            var strm = new Gunzip();\n            strm.onmember = function (offset) { return postMessage(offset); };\n            onmessage = astrm(strm);\n        }, 9, function (offset) { return _this_1.onmember && _this_1.onmember(offset); });\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0], ev.data[1])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, opts) {\n    var st = gzs(data);\n    if (st + 8 > data.length)\n        err(6, 'invalid gzip data');\n    return inflt(data.subarray(st, -8), { i: 2 }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    function Unzlib(opts, cb) {\n        Inflate.call(this, opts, cb);\n        this.v = opts && opts.dictionary ? 2 : 1;\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 6 && !final)\n                return;\n            this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, 'invalid zlib data');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    function AsyncUnzlib(opts, cb) {\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function () {\n            var strm = new Unzlib();\n            onmessage = astrm(strm);\n        }, 11);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gopt(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, opts) {\n    return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    function Decompress(opts, cb) {\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n        this.o = StrmOpt.call(this, opts, cb) || {};\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (typeof this.ondata != 'function')\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                var _this_2 = this;\n                // enables reuse of this method by AsyncDecompress\n                var cb = function () { _this_2.ondata.apply(_this_2, arguments); };\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(this.o, cb)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(this.o, cb)\n                        : new this.Z(this.o, cb);\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    function AsyncDecompress(opts, cb) {\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n        Decompress.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, opts) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, opts)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, opts)\n            : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += '/'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return { s: r, r: slc(d, i - 1) };\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (typeof this.ondata != 'function')\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (final) {\n            if (r.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = r;\n        this.ondata(s, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (typeof this.ondata != 'function')\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td) {\n        return td.decode(dat);\n    }\n    else {\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (r.length)\n            err(8);\n        return s;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >> 1)), b += 4;\n    if (c != -1) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (typeof this.ondata != 'function')\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this_1 = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this_1.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this_1 = this;\n        if (typeof this.ondata != 'function')\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u, -1);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this_1.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this_1.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this_1.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this_1.ondata(err, dat, final);\n                    _this_1.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this_1 = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this_1.d & 1))\n                        return;\n                    _this_1.u.splice(-1, 1);\n                    _this_1.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this_1 = this;\n        this.i = new Inflate(function (dat, final) {\n            _this_1.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this_1 = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this_1.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this_1.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this_1 = this;\n        if (typeof this.onfile != 'function')\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (typeof file_1.ondata != 'function')\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this_1.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this_1.k[0] == chks_3 && _this_1.c)\n                                        _this_1.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) { fn(); };\nexport function unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295 || c == 65535;\n        if (z) {\n            var ze = b4(data, e - 12);\n            z = b4(data, ze) == 0x6064B50;\n            if (z) {\n                c = lft = b4(data, ze + 32);\n                o = b4(data, ze + 48);\n            }\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    if (sc < 320000) {\n                        try {\n                            cbl(null, inflateSync(infl, { out: new u8(su) }));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n        var ze = b4(data, e - 12);\n        z = b4(data, ze) == 0x6064B50;\n        if (z) {\n            c = b4(data, ze + 32);\n            o = b4(data, ze + 48);\n        }\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), { out: new u8(su) });\n            else\n                err(14, 'unknown compression type ' + c_2);\n        }\n    }\n    return files;\n}\n","import { AsyncDeflate } from '../../..';\nexport default (stream: AsyncDeflate) => {\n  const writable = new WritableStream({\n    write(dat: Uint8Array) { stream.push(dat); },\n    close() { stream.push(new Uint8Array(0), true); }\n  });\n  const readable = new ReadableStream({\n    start(controller: ReadableStreamDefaultController<Uint8Array>) {\n      stream.ondata = (err, chunk, final) => {\n        if (err) writable.abort(err.message);\n        controller.enqueue(chunk);\n        if (final) controller.close();\n      }\n    }\n  });\n  return { readable, writable };\n}","import * as fflate from '../../..';\nimport toNativeStream from './stream-adapter';\n\ntype Callback = (...args: unknown[]) => void;\ntype WorkerProxy = Record<string, Callback>;\nconst concat = (chunks: Uint8Array[]) => {\n  const out = new Uint8Array(\n    chunks.reduce((a, v) => v.length + a, 0)\n  );\n  let loc = 0;\n  for (const chunk of chunks) {\n    out.set(chunk, loc);\n    loc += chunk.length;\n  }\n  return out;\n}\nconst createWorkerProxy = (lib: string, keys: string[]): WorkerProxy => {\n  const p: WorkerProxy = {};\n  for (const k of keys) {\n    const base = function(cb: (...args: unknown[]) => void) {\n      const w = new Worker('../../util/workers.ts');\n      w.postMessage([lib, k]);\n      w.onmessage = function(msg) {\n        const args = msg.data;\n        args.unshift(null);\n        cb.apply(null, args);\n      }\n      w.onerror = err => cb(err);\n      return w;\n    }\n    if (k != 'zip' && k != 'unzip') {\n      p[k] = function(dat, cb) {\n        const chks: unknown[] = [];\n        const w = base((err, dat, final) => {\n          if (err) (cb as Callback)(err);\n          else {\n            if (final) {\n              if (!chks.length) (cb as Callback)(null, dat);\n              else (cb as Callback)(null, concat(chks as Uint8Array[]));\n            } else chks.push(dat);\n          }\n        });\n        w.postMessage([dat, true], [(dat as Uint8Array).buffer]);\n      }\n      p['create' + k.slice(0, 1).toUpperCase() + k.slice(1)] = function() {\n        let trueCb = arguments[0];\n        const w = base((err, dat, final) => {\n          trueCb(err, dat, final);\n        });\n        const out = {\n          ondata: trueCb,\n          push(v: Uint8Array, f: boolean) {\n            if (!out.ondata) throw 'no callback';\n            trueCb = out.ondata;\n            w.postMessage([v, f], [v.buffer]);\n          },\n          terminate() {\n            w.terminate();\n          }\n        }\n        return out;\n      }\n    } else {\n      p[k] = function() {\n        let trueCb = arguments[0];\n        const w = base((err, dat) => {\n          trueCb(err, dat);\n        });\n        const out = {\n          ondata: trueCb,\n          add(name: string, buf: Uint8Array) { \n            buf = new Uint8Array(buf);\n            w.postMessage([name, buf], [buf.buffer]);\n          },\n          end() {\n            if (!out.ondata) throw 'no callback';\n            trueCb = out.ondata;\n            w.postMessage(null);\n          }\n        }\n        return out;\n      }\n    }\n  }\n  return p;\n}\n\nconst keys = ['zip', 'unzip', 'deflate', 'inflate', 'gzip', 'gunzip', 'zlib', 'unzlib'];\n\nconst uzipWorker = createWorkerProxy('uzip', keys);\nconst pakoWorker = createWorkerProxy('pako', keys);\nconst fileToU8 = (file: File, cb: (out: Uint8Array) => void) => {\n  const fr = new FileReader();\n  fr.onloadend = () => {\n    cb(new Uint8Array(fr.result as ArrayBuffer));\n  }\n  fr.readAsArrayBuffer(file);\n};\n\nconst download = (file: BlobPart, name?: string) => {\n  const url = URL.createObjectURL(new Blob([file]));\n  const dl = document.createElement('a');\n  dl.download = name || ('fflate-demo-' + Date.now() + '.dat');\n  dl.href = url;\n  dl.click();\n  URL.revokeObjectURL(url);\n}\n\nconst bts = ['B', ' kB', ' MB', ' GB'];\n\nconst hrbt = (bt: number) => {\n  let i = 0;\n  for (; bt > 1023; ++i) bt /= 1024;\n  return bt.toFixed((i != 0) as unknown as number) + bts[i];\n}\n\nconst prettySizes = (files: Record<string, [number, number]>) => {\n  let out = '\\n\\n';\n  let tot = 0;\n  let totc = 0;\n  let cnt = 0;\n  for (const k in files) {\n    ++cnt;\n    out += '<span style=\"font-weight:bold\">' + k + '</span> compressed from <span style=\"font-weight:bold;color:red\">' + hrbt(files[k][1]) + '</span> to <span style=\"font-weight:bold;color:green\">' + hrbt(files[k][0]) + '</span>\\n';\n    totc += files[k][0];\n    tot += files[k][1];\n  }\n  return out + (cnt > 1 ? '\\n\\n<span style=\"font-weight:bold\">In total, all files originally <span style=\"font-style:italic;color:red\">' + hrbt(tot) + '</span>, compressed to <span style=\"font-style:italic;color:green\">' + hrbt(totc) + '</span></span>' : '');\n}\n\nconst exec = (code: string, files: File[], callback: Callback) => {\n  const scope = {\n    fflate,\n    uzipWorker,\n    pakoWorker,\n    toNativeStream,\n    callback,\n    fileToU8,\n    files,\n    download,\n    prettySizes\n  };\n  try {\n    new Function('\"use strict\";' + Object.keys(scope).map(k => 'var ' + k + ' = this[\"' + k + '\"];').join('') + code).call(scope);\n  } catch(e) {\n    callback(e);\n  }\n}\n\nexport default exec;","\"use strict\";\n\n/* globals document:readonly */\nvar bundleURL = null;\n\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  let matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\n/* global self, Blob */\nvar bundleUrl = require('./bundle-url');\n\nmodule.exports = function (relativePath) {\n  var workerUrl = bundleUrl.getBundleURL() + relativePath;\n\n  if (bundleUrl.getOrigin(workerUrl) === self.location.origin) {\n    // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n  } else {\n    // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n    return URL.createObjectURL(new Blob(['importScripts(' + JSON.stringify(workerUrl) + ');']));\n  }\n};","\"use strict\";\n\nvar resolve = require('./bundle-manifest').resolve;\n\nmodule.exports = function (fromId, toId) {\n  return relative(dirname(resolve(fromId)), resolve(toId));\n};\n\nfunction dirname(_filePath) {\n  if (_filePath === '') {\n    return '.';\n  }\n\n  var filePath = _filePath[_filePath.length - 1] === '/' ? _filePath.slice(0, _filePath.length - 1) : _filePath;\n  var slashIndex = filePath.lastIndexOf('/');\n  return slashIndex === -1 ? '.' : filePath.slice(0, slashIndex);\n}\n\nfunction relative(from, to) {\n  if (from === to) {\n    return '';\n  }\n\n  var fromParts = from.split('/');\n\n  if (fromParts[0] === '.') {\n    fromParts.shift();\n  }\n\n  var toParts = to.split('/');\n\n  if (toParts[0] === '.') {\n    toParts.shift();\n  } // Find where path segments diverge.\n\n\n  var i;\n  var divergeIndex;\n\n  for (i = 0; (i < toParts.length || i < fromParts.length) && divergeIndex == null; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      divergeIndex = i;\n    }\n  } // If there are segments from \"from\" beyond the point of divergence,\n  // return back up the path to that point using \"..\".\n\n\n  var parts = [];\n\n  for (i = 0; i < fromParts.length - divergeIndex; i++) {\n    parts.push('..');\n  } // If there are segments from \"to\" beyond the point of divergence,\n  // continue using the remaining segments.\n\n\n  if (toParts.length > divergeIndex) {\n    parts.push.apply(parts, toParts.slice(divergeIndex));\n  }\n\n  return parts.join('/');\n}\n\nmodule.exports._dirname = dirname;\nmodule.exports._relative = relative;","import React, { FC, Ref, useEffect, useMemo, useRef, useState } from 'react';\nimport { Prism } from './prism';\nimport './prism';\nimport './prism.css';\nimport exec from './sandbox';\n\nconst canStream = 'stream' in File.prototype;\nconst rn = 'Running...';\nconst wt = 'Waiting...';\nconst tm = typeof performance != 'undefined'\n  ? () => performance.now()\n  : () => Date.now();\n\ntype Preset = {\n  fflate: string;\n  uzip: string;\n  pako: string;\n};\n\nconst presets: Record<string, Preset> = {\n  'Basic GZIP compression': {\n    fflate: `var left = files.length;\nvar filesLengths = {};\n\n// In a real app, use a list of file types to avoid compressing for better\n// performance\nvar ALREADY_COMPRESSED = [\n  'zip', 'gz', 'png', 'jpg', 'jpeg', 'pdf', 'doc', 'docx', 'ppt', 'pptx',\n  'xls', 'xlsx', 'heic', 'heif', '7z', 'bz2', 'rar', 'gif', 'webp', 'webm',\n  'mp4', 'mov', 'mp3', 'aifc'\n];\n\n// This function binds the variable \"file\" to the local scope, which makes\n// parallel processing possible.\n// If you use ES6, you can declare variables with \"let\" to automatically bind\n// the variable to the scope rather than using a separate function.\nvar processFile = function(i) {\n  var file = files[i];\n  fileToU8(file, function(buf) {\n    fflate.gzip(buf, {\n\n      // In a real app, instead of always compressing at a certain level,\n      // you'll want to check if the file is already compressed. For fairness,\n      // that's not done here.\n\n      /*\n      level: ALREADY_COMPRESSED.indexOf(\n        file.name.slice(file.name.lastIndexOf('.') + 1).toLowerCase()\n      ) == -1 ? 6 : 0\n      */\n\n      level: 6,\n\n      // You can uncomment the below for a contest of pure algorithm speed.\n      // In a real app, you'll probably not need to set the memory level\n      // because fflate picks a reasonable level based on file size by default.\n      // If fflate performs worse than UZIP, you're probably passing in \n      // incompressible files; switching the level or the mem will fix it.\n      \n      /*\n      mem: 4\n      */\n\n      // The following are optional, but fflate supports metadata if you want\n      mtime: file.lastModified,\n      filename: file.name\n\n    }, function(err, data) {\n      if (err) callback(err);\n      else {\n        filesLengths[file.name] = [data.length, file.size];\n    \n        // If you want to download the file to check it for yourself:\n        // download(data, 'myFile.gz');\n  \n        // If everyone else has finished processing already...\n        if (!--left) {\n          // Then return.\n          callback(prettySizes(filesLengths));\n        }\n      }\n    });\n  });\n}\nfor (var i = 0; i < files.length; ++i) {\n  processFile(i);\n}`,\n    uzip: `var left = files.length;\nvar filesLengths = {};\nvar processFile = function(i) {\n  var file = files[i];\n  fileToU8(file, function(buf) {\n\n    // UZIP doesn't natively support GZIP, but I patched in support for it.\n    // In other words, you're better off using fflate for GZIP.\n  \n    // Also, UZIP runs synchronously on the main thread. It relies on global\n    // state, so you can't even run it in the background without causing bugs.\n  \n    // But just for the sake of a performance comparison, try it out.\n    uzipWorker.gzip(buf, function(err, data) {\n      if (err) callback(err);\n      else {\n        filesLengths[file.name] = [data.length, file.size];\n        if (!--left) callback(prettySizes(filesLengths));\n      }\n    });\n  });\n}\nfor (var i = 0; i < files.length; ++i) {\n  processFile(i);\n}`,\n    pako: `var left = files.length;\nvar filesLengths = {};\nvar processFile = function(i) {\n  var file = files[i];\n  fileToU8(file, function(buf) {\n\n    // Unlike UZIP, Pako natively supports GZIP, and it doesn't rely on global\n    // state. However, it's still 46kB for this basic functionality as opposed\n    // to fflate's 7kB, not to mention the fact that there's no easy way to use\n    // it asynchronously. I had to add a worker proxy for this to work.\n\n    pakoWorker.gzip(buf, function(err, data) {\n      if (err) callback(err)\n      else {\n        filesLengths[file.name] = [data.length, file.size];\n        if (!--left) callback(prettySizes(filesLengths));\n      }\n    });\n  });\n}\nfor (var i = 0; i < files.length; ++i) {\n  processFile(i);\n}`\n  },\n  'ZIP archive creation': {\n    fflate: `// fflate's ZIP API is asynchronous and parallelized (multithreaded)\nvar left = files.length;\nvar zipObj = {};\nvar ALREADY_COMPRESSED = [\n  'zip', 'gz', 'png', 'jpg', 'jpeg', 'pdf', 'doc', 'docx', 'ppt', 'pptx',\n  'xls', 'xlsx', 'heic', 'heif', '7z', 'bz2', 'rar', 'gif', 'webp', 'webm',\n  'mp4', 'mov', 'mp3', 'aifc'\n];\n\n// Yet again, this is necessary for parallelization.\nvar processFile = function(i) {\n  var file = files[i];\n  var ext = file.name.slice(file.name.lastIndexOf('.') + 1).toLowerCase();\n  fileToU8(file, function(buf) {\n    // With fflate, we can choose which files we want to compress\n    zipObj[file.name] = [buf, {\n      level: ALREADY_COMPRESSED.indexOf(ext) == -1 ? 6 : 0\n    }];\n    \n    // If we didn't want to specify options:\n    // zipObj[file.name] = buf;\n\n    if (!--left) {\n      fflate.zip(zipObj, {\n        // If you want to control options for every file, you can do so here\n        // They are merged with the per-file options (if they exist)\n        // mem: 9\n      }, function(err, out) {\n        if (err) callback(err);\n        else {\n          // You may want to try downloading to see that fflate actually works:\n          // download(out, 'fflate-demo.zip');\n          callback('Length ' + out.length);\n        }\n      });\n    }\n  });\n}\nfor (var i = 0; i < files.length; ++i) {\n  processFile(i);\n}`,\n    uzip: `var left = files.length;\nvar processFile = function(i) {\n  var file = files[i];\n  fileToU8(file, function(buf) {\n    // With UZIP, you cannot control the compression level of a file\n    // However, it skips compressing ZIP, JPEG, and PNG files out of the box.\n    zipObj.add(file.name, buf);\n    if (!--left) {\n      zipObj.ondata = function(err, out) {\n        if (err) callback(err);\n        else callback('Length ' + out.length);\n      }\n      zipObj.end();\n    }\n  });\n}\n// Reminder that this is custom sugar\nvar zipObj = uzipWorker.zip();\nfor (var i = 0; i < files.length; ++i) {\n  processFile(i);\n}`,\n    pako: `var left = files.length;\n\n// Internally, this uses JSZip. Despite its clean API, it suffers from\n// abysmal performance and awful compression ratios, particularly in v3.2.0\n// and up.\n// If you choose JSZip, make sure to use v3.1.5 for adequate performance\n// (2-3x slower than fflate) instead of the latest version, which is 20-30x\n// slower than fflate.\n\nvar zipObj = pakoWorker.zip();\nvar processFile = function(i) {\n  var file = files[i];\n  fileToU8(file, function(buf) {\n    // With JSZip, you cannot control the compression level of a file\n    zipObj.add(file.name, buf);\n    if (!--left) {\n      zipObj.ondata = function(err, out) {\n        if (err) callback(err);\n        else callback('Length ' + out.length);\n      }\n      zipObj.end();\n    }\n  });\n}\nfor (var i = 0; i < files.length; ++i) {\n  processFile(i);\n}`\n  }\n}\n\nif (canStream) {\n  presets['Streaming GZIP compression'] = {\n    fflate: `const { AsyncGzip } = fflate;\n// Theoretically, you could do this on every file, but I haven't done that here\n// for the sake of simplicity.\nconst file = files[0];\nconst gzipStream = new AsyncGzip({ level: 6 });\n// We can stream the file through GZIP to reduce memory usage\nconst gzipped = file.stream().pipeThrough(toNativeStream(gzipStream));\nlet gzSize = 0;\ngzipped.pipeTo(new WritableStream({\n  write(chunk) {\n    gzSize += chunk.length;\n  },\n  close() {\n    callback('Length ' + gzSize);\n  }\n}));`,\n    uzip: `// UZIP doesn't support streaming to any extent\ncallback(new Error('unsupported'));`,\n    pako: `// Hundreds of lines of code to make this run on a Worker...\nconst file = files[0];\n// In case this wasn't clear already, Pako doesn't actually support this,\n// you need to create a custom async stream. I suppose you could copy the\n// code used in this demo, which is on GitHub under the demo/ directory.\nconst gzipStream = pakoWorker.createGzip();\nconst gzipped = file.stream().pipeThrough(toNativeStream(gzipStream));\nlet gzSize = 0;\ngzipped.pipeTo(new WritableStream({\n  write(chunk) {\n    gzSize += chunk.length;\n  },\n  close() {\n    callback('Length ' + gzSize);\n  }\n}));`\n  };\n}\n\nconst availablePresets = Object.keys(presets);\n\nconst CodeHighlight: FC<{\n  code: string;\n  preset: string;\n  onInput: (newCode: string) => void;\n}> = ({ code, preset, onInput }) => {\n  const highlight = useMemo(() => ({\n    __html: Prism.highlight(code + '\\n', Prism.languages.javascript, 'javascript')\n  }), [code]);\n  const pre = useRef<HTMLPreElement>(null);\n  const ta = useRef<HTMLTextAreaElement>(null);\n  useEffect(() => {\n    pre.current!.addEventListener('scroll', () => {\n      ta.current!.scrollLeft = pre.current!.scrollLeft;\n      ta.current!.style.left = pre.current!.scrollLeft + 'px';\n    }, { passive: true });\n    ta.current!.addEventListener('scroll', () => {\n      pre.current!.scrollLeft = ta.current!.scrollLeft;\n    }, { passive: true });\n  }, []);\n  useEffect(() => {\n    ta.current!.value = code;\n  }, [preset]);\n  return (\n    <pre ref={pre} style={{\n      position: 'relative',\n      backgroundColor: '#2a2734',\n      color: '#9a86fd',\n      maxWidth: 'calc(90vw - 2em)',\n      fontSize: '0.7em',\n      marginTop: '1em',\n      marginBottom: '1em',\n      padding: '1em',\n      overflow: 'auto',\n      fontFamily: 'Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace'\n    }}>\n      <div dangerouslySetInnerHTML={highlight} />\n      <textarea\n        ref={ta}\n        autoComplete=\"off\"\n        autoCorrect=\"off\"\n        autoCapitalize=\"off\"\n        spellCheck=\"false\"\n        style={{\n          border: 0,\n          resize: 'none',\n          outline: 'none',\n          position: 'absolute',\n          background: 'transparent',\n          whiteSpace: 'pre',\n          top: 0,\n          left: 0,\n          width: 'calc(100% - 1em)',\n          height: 'calc(100% - 2em)',\n          overflow: 'hidden',\n          lineHeight: 'inherit',\n          fontSize: 'inherit',\n          padding: 'inherit',\n          paddingRight: 0,\n          color: 'transparent',\n          caretColor: 'white',\n          fontFamily: 'inherit'\n        }}\n        onKeyDown={e => {\n          const t = e.currentTarget;\n          let val = t.value;\n          const loc = t.selectionStart;\n          if (e.key == 'Enter') {\n            const lastNL = val.lastIndexOf('\\n', loc - 1);\n            let indent = 0;\n            for (; val.charCodeAt(indent + lastNL + 1) == 32; ++indent);\n            const lastChar = val.charAt(loc - 1);\n            const nextChar = val.charAt(loc);\n            if (lastChar == '{'|| lastChar == '(' || lastChar == '[') indent += 2;\n            const addNL = nextChar == '}' || nextChar == ')' || nextChar == ']';\n            const tail = val.slice(t.selectionEnd);\n            val = val.slice(0, loc) + '\\n';\n            for (let i = 0; i < indent; ++i) val += ' ';\n            if (addNL) {\n              if (\n                (lastChar == '{' && nextChar == '}') ||\n                (lastChar == '[' && nextChar == ']') || \n                (lastChar == '(' && nextChar == ')')\n              ) {\n                val += '\\n';\n                for (let i = 2; i < indent; ++i) val += ' ';\n              } else {\n                const end = Math.min(indent, 2);\n                indent -= end;\n                val = val.slice(0, -end);\n              }\n            }\n            t.value = val += tail;\n            t.selectionStart = t.selectionEnd = loc + indent + 1;\n            ta.current!.scrollLeft = 0;\n          } else if (e.key == 'Tab') {\n            t.value = val = val.slice(0, loc) + '  ' + val.slice(t.selectionEnd);\n            t.selectionStart = t.selectionEnd = loc + 2;\n          } else if (t.selectionStart == t.selectionEnd) {\n            if (e.key == 'Backspace') {\n              if (val.charCodeAt(loc - 1) == 32 && !val.slice(val.lastIndexOf('\\n', loc - 1), loc).trim().length) {\n                t.value = val.slice(0, loc - 1) + val.slice(loc);\n                t.selectionStart = t.selectionEnd = loc - 1;\n              } else if (\n                (val.charAt(loc - 1) == '{' && val.charAt(loc) == '}') ||\n                (val.charAt(loc - 1) == '[' && val.charAt(loc) == ']') ||\n                (val.charAt(loc - 1) == '(' && val.charAt(loc) == ')')\n              ) {\n                t.value = val.slice(0, loc) + val.slice(loc + 1);\n                // hack, doesn't work always\n                t.selectionStart = t.selectionEnd = loc;\n              }\n              return;\n            } else {\n              switch(e.key) {\n                case '{':\n                case '[':\n                case '(':\n                  t.value = val = val.slice(0, loc) + (e.key == '{' ? '}' : e.key == '[' ? ']' : ')') + val.slice(loc);\n                  t.selectionStart = t.selectionEnd = loc;\n                  break;\n                case '}':\n                case ']':\n                case ')':\n                  // BUG: if the cursor is moved, this false activates\n                  if (e.key == val.charAt(loc)) {\n                    t.value = val.slice(0, loc) + val.slice(loc + 1);\n                    t.selectionStart = t.selectionEnd = loc;\n                  } else {\n                    const lastNL = val.lastIndexOf('\\n', loc - 1);\n                    const sl = val.slice(lastNL, loc);\n                    const o = loc - (sl.length > 1 && !sl.trim().length ? 2 : 0);\n                    t.value = val.slice(0, o) + val.slice(loc);\n                    t.selectionStart = t.selectionEnd = o;\n                  }\n              }\n              return;\n            };\n          } else return;\n          e.preventDefault();\n          onInput(val);\n        }}\n        onInput={e => onInput(e.currentTarget.value)}\n        >\n        {code}\n      </textarea>\n    </pre> \n  )\n};\n\nconst CodeBox: FC<{files: File[]; forwardRef: Ref<HTMLDivElement>}> = ({ files, forwardRef }) => {\n  const [preset, setPreset] = useState('Basic GZIP compression');\n  const [{ fflate, uzip, pako }, setCodes] = useState(presets[preset]);\n  const [ffl, setFFL] = useState('');\n  const [uz, setUZ] = useState('');\n  const [pk, setPK] = useState('');\n  useEffect(() => {\n    if (!files) {\n      setFFL('');\n      setUZ('');\n      setPK('');\n    }\n  }, [files]);\n  const onInput = (lib: 'fflate' | 'uzip' | 'pako', code: string) => {\n    const codes: Preset = {\n      fflate,\n      uzip,\n      pako\n    };\n    codes[lib] = code;\n    setCodes(codes);\n    setPreset('Custom');\n  }\n  const [hover, setHover] = useState(false);\n  return (\n    <div ref={forwardRef} style={{\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      width: '100%',\n      flexWrap: 'wrap'\n    }}>\n      <div>\n      <label>Preset: </label>\n        <select value={preset} onChange={e => {\n          let newPreset = e.currentTarget.value;\n          if (newPreset != 'Custom') setCodes(presets[newPreset]);\n          setPreset(newPreset);\n        }} style={{\n          marginTop: '2em'\n        }}>\n          {availablePresets.map(preset => <option key={preset} value={preset}>{preset}</option>)}\n          <option value=\"Custom\">Custom</option>\n        </select>\n      </div>\n      <div style={{\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-around',\n        whiteSpace: 'pre-wrap',\n        textAlign: 'left',\n        flexWrap: 'wrap'\n      }}>\n        <div style={{ padding: '2vmin' }}>\n          fflate:\n          <CodeHighlight code={fflate} preset={preset} onInput={t => onInput('fflate', t)} />\n          <span dangerouslySetInnerHTML={{ __html: ffl }} />\n        </div>\n        <div style={{\n          display: 'flex',\n          flexDirection: 'row',\n          flexWrap: 'wrap',\n          justifyContent: 'space-around',\n        }}>\n          <div style={{ padding: '2vmin' }}>\n            UZIP (shimmed):\n            <CodeHighlight code={uzip} preset={preset} onInput={t => onInput('uzip', t)} />\n            <span dangerouslySetInnerHTML={{ __html: uz }} />\n          </div>\n          <div style={{ padding: '2vmin' }}>\n            Pako (shimmed):\n            <CodeHighlight code={pako} preset={preset} onInput={t => onInput('pako', t)} />\n            <span dangerouslySetInnerHTML={{ __html: pk }} />\n          </div>\n        </div>\n      </div>\n      <button disabled={pk == 'Waiting...' || pk == 'Running...'} style={{\n        cursor: 'default',\n        width: '20vmin',\n        height: '6vh',\n        fontSize: '1.25em',\n        margin: '1vmin',\n        padding: '1vmin',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        boxShadow: '0 1px 2px 1px rgba(0, 0, 0, 0.2), 0 2px 4px 2px rgba(0, 0, 0, 0.15), 0 4px 8px 4px rgba(0, 0, 0, 0.12)',\n        border: '1px solid black',\n        borderRadius: '6px',\n        transition: 'background-color 300ms ease-in-out',\n        WebkitTouchCallout: 'none',\n        WebkitUserSelect: 'none',\n        msUserSelect: 'none',\n        MozUserSelect: 'none',\n        userSelect: 'none',\n        outline: 'none',\n        backgroundColor: hover ? 'rgba(0, 0, 0, 0.2)' : 'white'\n      }} onMouseOver={() => setHover(true)} onMouseLeave={() => setHover(false)} onClick={() => {\n        setHover(false);\n        const ts = tm();\n        setFFL(rn);\n        setUZ(wt);\n        setPK(wt);\n        exec(fflate, files, out => {\n          const tf = tm();\n          setFFL('Finished in <span style=\"font-weight:bold\">' + (tf - ts).toFixed(3) + 'ms</span>: ' + out);\n          exec(uzip, files, out => {\n            const tu = tm();\n            setUZ('Finished in <span style=\"font-weight:bold\">' + (tu - tf).toFixed(3) + 'ms:</span> ' + out);\n            exec(pako, files, out => {\n              setPK('Finished in <span style=\"font-weight:bold\">' + (tm() - tu).toFixed(3) + 'ms:</span> ' + out);\n            });\n          });\n        });\n      }}>Run</button>\n    </div>\n  ); \n}\n\nexport default CodeBox;","import React, { FC, useEffect, useRef, useState } from 'react';\nimport FilePicker from './components/file-picker';\nimport CodeBox from './components/code-box';\n\nconst App: FC = () => {\n  const [err, setErr] = useState<string | Error | null>(null);\n  const [files, setFiles] = useState<File[] | null>([]);\n  const cbRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (files && files.length) {\n      cbRef.current!.scrollIntoView({\n        behavior: 'smooth' // Hopefully IE just ignores this value\n      });\n    }\n  }, [files]);\n  return (\n    <>\n      <div style={{\n        display: 'flex',\n        fontSize: '70px',\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        overflow: 'hidden',\n        width: '100%',\n        fontWeight: 'bold'\n      }}>\n        <div style={{ paddingLeft: '0.25em' }}>\n          fflate\n          <div style={{\n            color: 'gray',\n            fontSize: '0.25em',\n            fontWeight: 'lighter'\n          }}>a fast compression library by <a href=\"//github.com/101arrowz\" style={{ color: 'gray' }}>101arrowz</a></div>\n        </div>\n        <a href=\"//github.com/101arrowz/fflate\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"80\" height=\"80\" viewBox=\"0 0 250 250\" fill=\"white\">\n            <path d=\"M0 0l115 115h15l12 27 108 108V0z\" fill=\"black\"/>\n            <path d=\"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16\" style={{ transformOrigin: '130px 106px' }} />\n            <path d=\"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z\"/>\n          </svg>\n        </a>\n      </div>\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column',\n        textAlign: 'center',\n        width: '100%',\n        flex: 1\n      }}>\n        <div style={{ maxWidth: '80%', fontSize: 'calc(15px + 0.6vw)', paddingTop: '4vh', paddingBottom: '2vh' }}>\n          You've found <a href=\"//npmjs.com/package/fflate\">fflate</a>, the fastest pure JavaScript compression library in existence.\n          <br /><br />\n          You can both pack and expand Zlib, GZIP, DEFLATE, or ZIP files very quickly with just a few lines of code.\n          <br /><br />\n          Weighing in at a measly 8kB for basic compression and decompression, you don't need to worry about your bundle size ballooning.\n          <br /><br />\n          Despite utilizing multiple cores, supporting data streams, and being very memory efficient, fflate is compatible with both Node.js and browsers as old as IE11.\n          <br /><br />\n          You can read more about fflate on <a href=\"//github.com/101arrowz/fflate\">GitHub</a>. Try the demo below to see its performance for yourself. The code boxes are editable; try changing parameters or using a different compression format.\n          <br /><br />\n          <span style={{ fontSize: '0.75em' }}>Disclaimer: I added a <span style={{ fontStyle: 'italic' }}>lot</span> of sugar (around 4 hundred lines) to the UZIP and Pako APIs to make the demo clean and asynchronous, but the fflate API is unmodified.</span>\n          <br /><br />\n        </div>\n        <div style={{\n          width: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          flexDirection: 'column',\n          marginBottom: '2vh'\n        }}>\n          <FilePicker allowDirs onFiles={setFiles} onError={setErr} onDrag={() => {}}>\n            {err && <div style={{ color: 'red' }}>Error: {err}</div>}\n            <div>{files ? ((files.length || 'No') + ' file' + (files.length == 1 ? '' : 's') + ' selected') : 'Loading...'}</div>\n            <br />\n          </FilePicker>\n          {((!files || files.length) && <CodeBox files={files!} forwardRef={cbRef} />) || null}\n        </div>\n       </div>\n    </>\n  );\n}\n\nexport default App;","import React from 'react';\nimport App from './App';\nimport { render } from 'react-dom';\n\nif (process.env.NODE_ENV == 'production') {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('sw.ts');\n  }\n}\n\nrender(<App />, document.getElementById('app'));"],"names":["mapping","register","pairs","keys","Object","i","length","resolve","id","resolved","Error","$bd72ee1865b930c1fed8ae47f35e91$exports","$bd72ee1865b930c1fed8ae47f35e91$export$resolve","$bd72ee1865b930c1fed8ae47f35e91$init","JSON","parse","n","u","t","o","f","e","c","s","l","a","parentNode","removeChild","h","r","arguments","push","children","defaultProps","v","type","props","key","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","p","d","this","context","_","indexOf","w","base","k","g","__r","debounceRendering","sort","some","__P","$","__n","ownerSVGElement","j","m","y","b","A","P","Array","isArray","x","value","L","I","appendChild","nextSibling","insertBefore","setProperty","test","C","style","cssText","replace","toLowerCase","slice","N","z","addEventListener","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","T","contextType","__E","prototype","render","M","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","nodeType","localName","document","createTextNode","createElementNS","createElement","is","data","call","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","checked","H","diffed","current","unmount","componentWillUnmount","O","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","setTimeout","$fa79c0f893647b9bde72fd7f9de24eae$export$options","__H","q","forEach","requestAnimationFrame","clearTimeout","cancelAnimationFrame","filter","S","$fa79c0f893647b9bde72fd7f9de24eae$export$Component","isPureReactComponent","R","__f","Symbol","for","map","U","F","__u","pop","$fa79c0f893647b9bde72fd7f9de24eae$export$createElement","$fa79c0f893647b9bde72fd7f9de24eae$export$Fragment","fallback","delete","revealOrder","size","get","Map","$fa79c0f893647b9bde72fd7f9de24eae$export$toChildArray","reverse","set","V","B","textContent","$fa79c0f893647b9bde72fd7f9de24eae$export$render","isReactComponent","defineProperty","configurable","writable","Y","cancelBubble","G","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","K","class","Q","multiple","selected","className","enumerable","$$typeof","X","supportsInputDirs","HTMLInputElement","supportsRelativePath","File","supportsDirs","DataTransferItem","readRecurse","dir","onComplete","onError","files","total","errored","reachedEnd","onErr","err","onDone","concat","reader","createReader","readEntries","onRead","entries","_step","_iterator","$a1320003deb20cc23e44a5cf79d4464d$var$_createForOfIteratorHelper","_loop","entry","isFile","file","fullPath","done","FilePicker","_ref","onFiles","onDrag","allowDirs","$a1320003deb20cc23e44a5cf79d4464d$var$_objectWithoutProperties","inputRef","$c2bbdbd8a799f765870c7de0f0131$export$useRef","dirInputRef","dragRef","_useState2","$a1320003deb20cc23e44a5cf79d4464d$var$_slicedToArray","$c2bbdbd8a799f765870c7de0f0131$export$useState","inputHover","setInputHover","_useState4","dirInputHover","setDirInputHover","_useState6","isHovering","setIsHovering","$c2bbdbd8a799f765870c7de0f0131$export$useEffect","rootProps","onDrop","ev","preventDefault","tf","dataTransfer","outFiles","lft","items","webkitGetAsEntry","onDragEnter","onDragOver","onDragLeave","$a1320003deb20cc23e44a5cf79d4464d$var$_objectSpread","display","flexDirection","alignItems","inputProps","onInput","currentTarget","webkitRelativePath","buttonStyles","cursor","minWidth","height","margin","padding","justifyContent","boxShadow","border","borderRadius","transition","WebkitTouchCallout","WebkitUserSelect","msUserSelect","MozUserSelect","userSelect","$b9dfd2e11c54fffdfa90b942b5a7a9ce$export$default","$a1320003deb20cc23e44a5cf79d4464d$var$_extends","transform","borderBottom","color","lineHeight","paddingTop","marginBottom","width","background","onClick","click","onMouseOver","onMouseOut","backgroundColor","marginLeft","Prism","manual","disableWorkerMessageHandler","util","encode","W","content","alias","toString","objId","__id","clone","hasOwnProperty","getLanguage","parentElement","match","currentScript","exec","stack","getElementsByTagName","src","isActive","classList","contains","languages","extend","DFS","plugins","highlightAll","highlightAllUnder","callback","container","selector","hooks","run","elements","apply","querySelectorAll","highlightElement","nodeName","element","language","grammar","code","highlightedCode","Worker","filename","onmessage","postMessage","stringify","immediateClose","highlight","tokens","tokenize","rest","head","cause","inside","lookbehind","greedy","pattern","global","RegExp","source","next","tail","reach","prev","lastIndex","index","E","all","add","Token","tag","classes","join","close","hasAttribute","readyState","defer","window","$abeb90b07e6faf21ce2140c2082bf9e$exports","clike","comment","string","class-name","punctuation","keyword","boolean","function","number","operator","javascript","regex","regex-source","regex-flags","regex-delimiter","function-variable","parameter","constant","template-string","template-punctuation","interpolation","interpolation-punctuation","markup","addInlined","js","$abeb90b07e6faf21ce2140c2082bf9e$export$Prism","ch2","u8","Uint8Array","u16","Uint16Array","i32","Int32Array","fleb","fdeb","clim","freb","eb","start","_a","fl","revfl","_b","fd","revfd","rev","hMap","cd","mb","co","le","rvb","sv","r_1","flt","fdt","flm","flrm","fdm","fdrm","max","bits","bits16","shft","slc","subarray","UnexpectedEOF","InvalidBlockType","InvalidLengthLiteral","InvalidDistance","StreamFinished","NoStreamHandler","InvalidHeader","NoCallback","InvalidUTF8","ExtraFieldTooLong","InvalidDate","FilenameTooLong","StreamFinishing","InvalidZipData","UnknownCompressionMethod","ec","ind","msg","nt","captureStackTrace","inflt","dat","st","buf","dict","sl","dl","noBuf","noSt","cbuf","bl","nbuf","Math","final","pos","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","lpos","sym","dsym","end","shift","dend","min","wbits","wbits16","hTree","t2","et","i0","i1","i2","maxSym","tr","mbt","ln","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","clen","cf","wfblk","out","wblk","syms","lf","df","li","bs","dlt","mlb","ddt","mdb","_c","lclt","nlc","_d","lcdt","ndc","lcfreq","_e","lct","mlcb","nlcc","ll","flen","ftlen","dtlen","llm","lcts","it","clct","len","dst","deo","dflt","lvl","plvl","pre","post","ceil","lst","opt","msk_1","bs1_1","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","ml","nl","mmd","md","ti","lin","din","crct","crc","cr","adler","dopt","dictionary","newDat","level","mem","log","mrg","wcln","fn","fnStr","td","ks","lastIndexOf","split","st_1","spInd","ch","wrkr","fns","init","cb","td_1","transfer","URL","createObjectURL","Blob","ed","$e$","wk","buffer","cbfs","bInflt","inflateSync","pbf","gopt","bDflt","deflateSync","gze","gzh","gzhl","wbytes","guze","gzs","gzl","zle","zlh","zule","zls","cbify","opts","terminate","consume","astrm","strm","ondata","astrmify","ext","b2","b4","b8","mtime","floor","Date","now","charCodeAt","flg","zs","lv","StrmOpt","Deflate","chunk","endLen","newBuf","AsyncDeflate","deflate","Inflate","bts","AsyncInflate","inflate","Gzip","raw","AsyncGzip","gzip","gzipSync","Gunzip","onmember","AsyncGunzip","_this_1","offset","gunzip","gunzipSync","Zlib","AsyncZlib","zlibSync","Unzlib","AsyncUnzlib","unzlib","unzlibSync","Decompress","Z","_this_2","AsyncDecompress","fltn","val","op","te","TextEncoder","TextDecoder","tds","decode","stream","dutf8","String","fromCharCode","DecodeUTF8","EncodeUTF8","strToU8","str","latin1","ar_1","ar","ai","strFromU8","dbf","slzh","zh","fnl","es","z64e","sc","su","off","exfl","ex","wzh","ce","extra","col","exl","os","flag","compression","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","attrs","exf","wzf","ZipPassThrough","process","ZipDeflate","AsyncZipDeflate","Zip","fl_1","com","hl_1","header","chks_1","pAll_1","_i","chks_2","chk","tr_1","ind_1","uf_1","nxt","cl_1","dd","splice","tot","slft","term","tAll","cbd","mt","cbf","oe","cdl","badd","loc","_loop_1","ms","cbl","UnzipPassThrough","UnzipInflate","AsyncUnzipInflate","sz","Unzip","onfile","0","toAdd","oc","_loop_2","sig","this_1","bf","cmp_1","chks_3","unshift","d_1","sc_1","su_1","fn_1","file_1","ctr","chks_4","originalSize","decoder","queueMicrotask","ze","fltr","_loop_3","c_1","no","infl","c_2","WritableStream","write","readable","ReadableStream","controller","abort","message","enqueue","bundleURL","getBundleURLCached","matches","getBaseURL","getBundleURL","url","getOrigin","$da3a6c17234c5d68d4f1108f53a7bad4$exports","$da3a6c17234c5d68d4f1108f53a7bad4$export$getBaseURL","$da3a6c17234c5d68d4f1108f53a7bad4$export$getOrigin","bundleUrl","$b7c78d814b33716017b91129fa94c9$exports","relativePath","workerUrl","self","location","origin","dirname","_filePath","filePath","slashIndex","relative","from","to","fromParts","divergeIndex","toParts","parts","$e5b69ae2ffddc223b376d75aff9c28$exports","fromId","toId","_dirname","$e5b69ae2ffddc223b376d75aff9c28$export$_dirname","_relative","$e5b69ae2ffddc223b376d75aff9c28$export$_relative","$c6db64644b69736a83938ca8c56c9e0c$exports","$b7c78d814b33716017b91129fa94c9$init","$e5b69ae2ffddc223b376d75aff9c28$init","createWorkerProxy","lib","_step2","_iterator2","$a5ae087503e6f4fb4df8f668e910f649$var$_createForOfIteratorHelper","$c6db64644b69736a83938ca8c56c9e0c$init","args","onerror","chks","chunks","reduce","toUpperCase","trueCb","uzipWorker","pakoWorker","fileToU8","fr","FileReader","onloadend","result","readAsArrayBuffer","download","href","revokeObjectURL","hrbt","toFixed","prettySizes","totc","cnt","scope","fflate","$b5f0f3a2832df0369571dcba9c3$exports","toNativeStream","$cd927f4b34066b3154171a56a7bdb3ce$export$default","Function","canStream","wt","tm","performance","presets","Basic GZIP compression","uzip","pako","ZIP archive creation","availablePresets","CodeHighlight","preset","$c2bbdbd8a799f765870c7de0f0131$export$useMemo","ta","scrollLeft","left","passive","position","maxWidth","fontSize","marginTop","overflow","fontFamily","autoComplete","autoCorrect","autoCapitalize","spellCheck","resize","outline","whiteSpace","top","paddingRight","caretColor","onKeyDown","selectionStart","lastNL","indent","lastChar","charAt","nextChar","addNL","selectionEnd","trim","CodeBox","_ref2","forwardRef","$b468f855d366fc30ce28e0141ef246d7$var$_slicedToArray","setPreset","_useState4$","setCodes","ffl","setFFL","_useState8","uz","setUZ","_useState10","pk","setPK","codes","_useState12","hover","setHover","flexWrap","onChange","newPreset","textAlign","$b468f855d366fc30ce28e0141ef246d7$var$CodeHighlight","disabled","onMouseLeave","ts","$a5ae087503e6f4fb4df8f668e910f649$export$default","tu","App","$a322ec786f83dca4113d9525950b446$var$_slicedToArray","setErr","setFiles","cbRef","scrollIntoView","behavior","fontWeight","paddingLeft","xmlns","viewBox","fill","transformOrigin","flex","paddingBottom","fontStyle","$a1320003deb20cc23e44a5cf79d4464d$export$default","$b468f855d366fc30ce28e0141ef246d7$export$default","navigator","serviceWorker","$f461a4f7b623c3ecd6673186946eb26c$exports","$da3a6c17234c5d68d4f1108f53a7bad4$init","$b9dfd2e11c54fffdfa90b942b5a7a9ce$export$render","$a322ec786f83dca4113d9525950b446$export$default","getElementById"],"version":3,"file":"index.ba6009fa.js.map"}